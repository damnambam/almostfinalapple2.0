{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\namil\\\\Desktop\\\\sanaapplenamlocal\\\\frontend\\\\src\\\\pages\\\\CreateApple.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './CreateApple.css';\nimport axios from 'axios';\nimport Papa from 'papaparse';\nimport JSZip from 'jszip';\nimport { useNavigate } from \"react-router-dom\";\nimport { ArrowLeft, Upload, FileSpreadsheet, FileImage, CheckCircle, AlertCircle } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function CreateApple() {\n  _s();\n  const navigate = useNavigate();\n  const [step, setStep] = useState(0);\n  const [csvFile, setCsvFile] = useState(null);\n  const [csvData, setCsvData] = useState([]);\n  const [imagesZip, setImagesZip] = useState(null);\n  const [extractedImages, setExtractedImages] = useState([]);\n  const [matchedData, setMatchedData] = useState([]);\n  const [unmatchedImages, setUnmatchedImages] = useState([]);\n  const [unmatchedApples, setUnmatchedApples] = useState([]);\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [manualMatches, setManualMatches] = useState({});\n\n  // Statistics\n  const [stats, setStats] = useState({\n    matched: 0,\n    unmatchedImages: 0,\n    unmatchedApples: 0\n  });\n\n  // Back to start\n  const handleBackToStart = () => {\n    setStep(0);\n    setCsvFile(null);\n    setCsvData([]);\n    setImagesZip(null);\n    setExtractedImages([]);\n    setMatchedData([]);\n    setUnmatchedImages([]);\n    setUnmatchedApples([]);\n    setError('');\n    setManualMatches({});\n    setStats({\n      matched: 0,\n      unmatchedImages: 0,\n      unmatchedApples: 0\n    });\n  };\n\n  // STEP 1: Handle CSV Upload\n  const handleCsvChange = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    const fileName = file.name.toLowerCase();\n    if (!fileName.endsWith('.csv') && !fileName.endsWith('.xlsx') && !fileName.endsWith('.xls')) {\n      setError('Only CSV or Excel files are allowed.');\n      setCsvFile(null);\n      return;\n    }\n    setError('');\n    setCsvFile(file);\n  };\n  const handleCsvUpload = async () => {\n    if (!csvFile) {\n      setError('Please select a CSV or Excel file to upload.');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      const text = await csvFile.text();\n      const parsed = Papa.parse(text, {\n        header: true,\n        skipEmptyLines: true\n      });\n      if (!parsed.data || parsed.data.length === 0) {\n        setError('The file is empty or has no valid data. Please upload a file with content.');\n        setLoading(false);\n        return;\n      }\n\n      // Validate that there's at least a cultivar name column\n      const firstRow = parsed.data[0];\n      const hasCultivarName = Object.keys(firstRow).some(key => key.toLowerCase().includes('cultivar') || key.toLowerCase().includes('name'));\n      if (!hasCultivarName) {\n        setError('CSV must contain a cultivar name column (e.g., \"cultivar_name\", \"name\")');\n        setLoading(false);\n        return;\n      }\n      setCsvData(parsed.data);\n      console.log('âœ… CSV parsed:', parsed.data.length, 'rows');\n\n      // Automatically move to Step 2\n      setStep(2);\n    } catch (err) {\n      console.error('âŒ CSV parse error:', err);\n      setError('Failed to parse CSV file: ' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // STEP 2: Handle ZIP Upload\n  const handleZipChange = e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    if (!file.name.toLowerCase().endsWith('.zip')) {\n      setError('Only ZIP files are allowed for image upload.');\n      setImagesZip(null);\n      return;\n    }\n    setError('');\n    setImagesZip(file);\n  };\n  const handleMatchImages = async () => {\n    if (!imagesZip) {\n      setError('Please select a ZIP file containing images.');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      const zip = new JSZip();\n      const contents = await zip.loadAsync(imagesZip);\n      const imageFiles = [];\n      for (const [filename, file] of Object.entries(contents.files)) {\n        if (!file.dir && /\\.(jpg|jpeg|png|gif|bmp)$/i.test(filename)) {\n          const blob = await file.async('blob');\n          const cleanFilename = filename.split('/').pop();\n          imageFiles.push({\n            name: cleanFilename,\n            blob: blob,\n            url: URL.createObjectURL(blob)\n          });\n        }\n      }\n      if (imageFiles.length === 0) {\n        setError('No valid image files found in the ZIP.');\n        setLoading(false);\n        return;\n      }\n      console.log('âœ… Extracted images:', imageFiles.length);\n      setExtractedImages(imageFiles);\n\n      // Match images to apples\n      performMatching(imageFiles);\n\n      // Move to Step 3\n      setStep(3);\n    } catch (err) {\n      console.error('âŒ ZIP extraction error:', err);\n      setError('Failed to extract ZIP file: ' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const performMatching = images => {\n    const matched = [];\n    const unmatchedImgs = [];\n    const unmatchedApps = [];\n\n    // Get cultivar name field\n    const cultivarField = Object.keys(csvData[0]).find(key => key.toLowerCase().includes('cultivar') || key.toLowerCase().includes('name'));\n    csvData.forEach(apple => {\n      const cultivarName = apple[cultivarField];\n      if (!cultivarName) return;\n\n      // Try to find matching image (case-insensitive, fuzzy matching)\n      const cleanCultivar = cultivarName.toLowerCase().trim().replace(/[^a-z0-9]/g, '');\n      const matchedImage = images.find(img => {\n        const cleanImgName = img.name.toLowerCase().replace(/\\.(jpg|jpeg|png|gif|bmp)$/i, '').replace(/[^a-z0-9]/g, '');\n        return cleanImgName.includes(cleanCultivar) || cleanCultivar.includes(cleanImgName);\n      });\n      if (matchedImage) {\n        matched.push({\n          apple: apple,\n          image: matchedImage,\n          cultivarName: cultivarName\n        });\n      } else {\n        unmatchedApps.push({\n          apple: apple,\n          cultivarName: cultivarName\n        });\n      }\n    });\n\n    // Find unmatched images\n    const matchedImageNames = matched.map(m => m.image.name);\n    unmatchedImgs.push(...images.filter(img => !matchedImageNames.includes(img.name)));\n    setMatchedData(matched);\n    setUnmatchedImages(unmatchedImgs);\n    setUnmatchedApples(unmatchedApps);\n    setStats({\n      matched: matched.length,\n      unmatchedImages: unmatchedImgs.length,\n      unmatchedApples: unmatchedApps.length\n    });\n    console.log('ðŸ“Š Matching complete:', {\n      matched: matched.length,\n      unmatchedImages: unmatchedImgs.length,\n      unmatchedApples: unmatchedApps.length\n    });\n  };\n\n  // Handle manual matching\n  const handleManualMatch = (appleIndex, imageName) => {\n    const newMatches = {\n      ...manualMatches\n    };\n    newMatches[appleIndex] = imageName;\n    setManualMatches(newMatches);\n\n    // Update stats\n    const manualMatchCount = Object.keys(newMatches).filter(k => newMatches[k]).length;\n    setStats(prev => ({\n      ...prev,\n      unmatchedApples: unmatchedApples.length - manualMatchCount\n    }));\n  };\n\n  // STEP 3: Save to Database\n  const handleSaveToDatabase = async () => {\n    setLoading(true);\n    try {\n      // Combine matched data with manual matches\n      const finalData = [...matchedData];\n      unmatchedApples.forEach((item, index) => {\n        if (manualMatches[index]) {\n          const selectedImage = extractedImages.find(img => img.name === manualMatches[index]);\n          if (selectedImage) {\n            finalData.push({\n              apple: item.apple,\n              image: selectedImage,\n              cultivarName: item.cultivarName\n            });\n          }\n        }\n      });\n      console.log('ðŸ’¾ Saving to database:', finalData.length, 'entries');\n\n      // Create FormData for upload\n      const formData = new FormData();\n      finalData.forEach((item, index) => {\n        // Add apple data with index notation\n        formData.append(`apples[${index}]`, JSON.stringify(item.apple));\n\n        // Add image blob (all use same field name 'images')\n        if (item.image && item.image.blob) {\n          formData.append('images', item.image.blob, item.image.name);\n        }\n      });\n\n      // Debug: Check FormData contents\n      console.log('ðŸ“‹ FormData contents:');\n      for (let pair of formData.entries()) {\n        console.log(pair[0], ':', pair[1] instanceof Blob ? `Blob: ${pair[1].size} bytes` : pair[1].substring(0, 100) + '...');\n      }\n      console.log('ðŸ“¤ Sending to backend:', finalData.length, 'items');\n\n      // Send to backend\n      const response = await axios.post('http://localhost:5000/api/apples/bulk-upload-with-images', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      console.log('âœ… Upload response:', response.data);\n      alert(`ðŸŽ‰ Successfully uploaded ${response.data.stats.successful} apple(s) with images!`);\n\n      // Reset and go back to start\n      handleBackToStart();\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('âŒ Save error:', err);\n      alert(`âŒ Error: ${((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message || 'Save failed'}`);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"create-apple-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"page-title\",\n      children: \"Create New Apple Resource \\uD83C\\uDF4E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timeline\",\n      children: ['Choose Method', 'Upload CSV', 'Upload Images', 'Review & Save'].map((label, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `timeline-step ${step === idx ? 'active' : ''} ${step > idx ? 'completed' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"circle\",\n          children: step > idx ? 'âœ“' : idx + 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 13\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"step-content-card\",\n      children: [step === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"step\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Choose Upload Method\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"instructions-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"How to Use\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Choose \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Single Upload\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 28\n              }, this), \" to manually enter apple details and upload images\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Choose \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Multiple Upload\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 28\n              }, this), \" to upload CSV/Excel with bulk images\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Use \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Download Template\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 25\n              }, this), \" to create templates for bulk upload\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload-options\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"upload-btn single\",\n            onClick: () => navigate('/single-apple'),\n            children: \"Single Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"upload-btn multiple\",\n            onClick: () => setStep(1),\n            children: \"Multiple Upload\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"upload-btn template\",\n            onClick: () => navigate('/template-creator'),\n            children: \"Download Template\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            marginTop: '30px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/dashboard'),\n            className: \"btn-secondary\",\n            children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this), \"Back to Dashboard\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 11\n      }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"step\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [/*#__PURE__*/_jsxDEV(FileSpreadsheet, {\n            size: 28\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 17\n          }, this), \" Upload Your CSV\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"instructions-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Upload Instructions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Only \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \".csv\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 26\n              }, this), \" or \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \".xlsx/.xls\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 41\n              }, this), \" files are accepted\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"File must contain cultivar names\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Each row should contain complete apple information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"File must not be empty\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".csv,.xlsx,.xls\",\n          onChange: handleCsvChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }, this), csvFile && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#e8f5e9',\n            padding: '15px',\n            borderRadius: '8px',\n            marginTop: '15px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#2e7d32',\n              margin: 0,\n              fontWeight: '600'\n            },\n            children: [\"\\u2713 Selected: \", csvFile.name, \" (\", (csvFile.size / 1024).toFixed(2), \" KB)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 15\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red',\n            fontWeight: '500',\n            marginTop: '10px'\n          },\n          children: [\"\\u26A0\\uFE0F \", error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"navigation-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            onClick: handleBackToStart,\n            children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 17\n            }, this), \"Back\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-primary\",\n            onClick: handleCsvUpload,\n            disabled: !csvFile || loading,\n            children: loading ? 'â³ Processing...' : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Upload, {\n                size: 18\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 50\n              }, this), \" Upload CSV\"]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 11\n      }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"step\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [/*#__PURE__*/_jsxDEV(FileImage, {\n            size: 28\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 17\n          }, this), \" Upload Your Images\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"instructions-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Image Upload Instructions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Upload a \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \".zip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 30\n              }, this), \" file containing all images\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Images should be named to match cultivar names from CSV\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\"Supported formats: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"JPG, PNG, GIF, BMP\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 40\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"System will automatically match images to cultivars\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#e3f2fd',\n            padding: '20px',\n            borderRadius: '12px',\n            marginBottom: '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: 0,\n              color: '#1565c0',\n              fontWeight: '600'\n            },\n            children: [\"\\u2713 CSV Uploaded: \", csvData.length, \" cultivars loaded\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          accept: \".zip\",\n          onChange: handleZipChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 13\n        }, this), imagesZip && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#e8f5e9',\n            padding: '15px',\n            borderRadius: '8px',\n            marginTop: '15px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#2e7d32',\n              margin: 0,\n              fontWeight: '600'\n            },\n            children: [\"\\u2713 Selected: \", imagesZip.name, \" (\", (imagesZip.size / 1024).toFixed(2), \" KB)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 15\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red',\n            fontWeight: '500',\n            marginTop: '10px'\n          },\n          children: [\"\\u26A0\\uFE0F \", error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"navigation-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            onClick: () => setStep(1),\n            children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this), \"Back\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-primary\",\n            onClick: handleMatchImages,\n            disabled: !imagesZip || loading,\n            style: {\n              background: 'linear-gradient(135deg, #4caf50, #66bb6a)'\n            },\n            children: loading ? 'â³ Processing...' : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: \"\\uD83D\\uDD0D Match Images to Apples\"\n            }, void 0, false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 11\n      }, this), step === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"step\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [/*#__PURE__*/_jsxDEV(CheckCircle, {\n            size: 28\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 17\n          }, this), \" Review and Save\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 481,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n            gap: '15px',\n            marginBottom: '30px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: '#e8f5e9',\n              padding: '20px',\n              borderRadius: '12px',\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '32px',\n                fontWeight: '700',\n                color: '#4caf50'\n              },\n              children: stats.matched\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#2e7d32',\n                fontWeight: '600'\n              },\n              children: \"\\u2713 Matched\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: '#fff3e0',\n              padding: '20px',\n              borderRadius: '12px',\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '32px',\n                fontWeight: '700',\n                color: '#ff9800'\n              },\n              children: stats.unmatchedImages\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#e65100',\n                fontWeight: '600'\n              },\n              children: \"\\u26A0 Unmatched Images\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: '#ffebee',\n              padding: '20px',\n              borderRadius: '12px',\n              textAlign: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: '32px',\n                fontWeight: '700',\n                color: '#f44336'\n              },\n              children: unmatchedApples.length - Object.keys(manualMatches).filter(k => manualMatches[k]).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#c62828',\n                fontWeight: '600'\n              },\n              children: \"\\u26A0 Unmatched Apples\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 493,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 13\n        }, this), unmatchedApples.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            background: '#fff3e0',\n            padding: '20px',\n            borderRadius: '12px',\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              color: '#e65100',\n              marginBottom: '15px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              size: 20,\n              style: {\n                verticalAlign: 'middle',\n                marginRight: '8px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 19\n            }, this), \"Manual Matching Required\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              marginBottom: '15px',\n              color: '#555'\n            },\n            children: \"The following cultivars need images. Please select from unmatched images:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 17\n          }, this), unmatchedApples.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: 'white',\n              padding: '15px',\n              borderRadius: '8px',\n              marginBottom: '10px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: item.cultivarName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: manualMatches[index] || '',\n              onChange: e => handleManualMatch(index, e.target.value),\n              style: {\n                width: '100%',\n                padding: '10px',\n                marginTop: '10px',\n                borderRadius: '6px',\n                border: '2px solid #e0e0e0',\n                fontSize: '14px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"-- Select Image --\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 23\n              }, this), unmatchedImages.map((img, imgIndex) => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: img.name,\n                children: img.name\n              }, imgIndex, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 25\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 15\n        }, this), matchedData.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              color: '#4caf50',\n              marginBottom: '15px'\n            },\n            children: [\"\\u2713 Successfully Matched (\", matchedData.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: 'repeat(auto-fill, minmax(150px, 1fr))',\n              gap: '10px'\n            },\n            children: [matchedData.slice(0, 6).map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#f8f9fa',\n                padding: '10px',\n                borderRadius: '8px',\n                textAlign: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.image.url,\n                alt: item.cultivarName,\n                style: {\n                  width: '100%',\n                  height: '100px',\n                  objectFit: 'cover',\n                  borderRadius: '6px',\n                  marginBottom: '8px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '12px',\n                  color: '#555',\n                  fontWeight: '600'\n                },\n                children: item.cultivarName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 23\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 21\n            }, this)), matchedData.length > 6 && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                background: '#e0e0e0',\n                padding: '10px',\n                borderRadius: '8px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                fontSize: '14px',\n                fontWeight: '600'\n              },\n              children: [\"+\", matchedData.length - 6, \" more\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 539,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"navigation-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-secondary\",\n            onClick: handleBackToStart,\n            children: [/*#__PURE__*/_jsxDEV(ArrowLeft, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 17\n            }, this), \"Start Over\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-primary\",\n            onClick: handleSaveToDatabase,\n            disabled: loading,\n            style: {\n              background: 'linear-gradient(135deg, #4caf50, #66bb6a)'\n            },\n            children: loading ? 'â³ Saving...' : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: \"\\uD83D\\uDCBE Save to Database\"\n            }, void 0, false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 307,\n    columnNumber: 5\n  }, this);\n}\n_s(CreateApple, \"37mYdd7BNnMGEP2zuyFfxdtgosI=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateApple;\nvar _c;\n$RefreshReg$(_c, \"CreateApple\");","map":{"version":3,"names":["React","useState","axios","Papa","JSZip","useNavigate","ArrowLeft","Upload","FileSpreadsheet","FileImage","CheckCircle","AlertCircle","jsxDEV","_jsxDEV","Fragment","_Fragment","CreateApple","_s","navigate","step","setStep","csvFile","setCsvFile","csvData","setCsvData","imagesZip","setImagesZip","extractedImages","setExtractedImages","matchedData","setMatchedData","unmatchedImages","setUnmatchedImages","unmatchedApples","setUnmatchedApples","error","setError","loading","setLoading","manualMatches","setManualMatches","stats","setStats","matched","handleBackToStart","handleCsvChange","e","file","target","files","fileName","name","toLowerCase","endsWith","handleCsvUpload","text","parsed","parse","header","skipEmptyLines","data","length","firstRow","hasCultivarName","Object","keys","some","key","includes","console","log","err","message","handleZipChange","handleMatchImages","zip","contents","loadAsync","imageFiles","filename","entries","dir","test","blob","async","cleanFilename","split","pop","push","url","URL","createObjectURL","performMatching","images","unmatchedImgs","unmatchedApps","cultivarField","find","forEach","apple","cultivarName","cleanCultivar","trim","replace","matchedImage","img","cleanImgName","image","matchedImageNames","map","m","filter","handleManualMatch","appleIndex","imageName","newMatches","manualMatchCount","k","prev","handleSaveToDatabase","finalData","item","index","selectedImage","formData","FormData","append","JSON","stringify","pair","Blob","size","substring","response","post","headers","alert","successful","_err$response","_err$response$data","className","children","_jsxFileName","lineNumber","columnNumber","label","idx","onClick","style","textAlign","marginTop","type","accept","onChange","background","padding","borderRadius","color","margin","fontWeight","toFixed","disabled","marginBottom","display","gridTemplateColumns","gap","fontSize","verticalAlign","marginRight","value","width","border","imgIndex","slice","src","alt","height","objectFit","alignItems","justifyContent","_c","$RefreshReg$"],"sources":["C:/Users/namil/Desktop/sanaapplenamlocal/frontend/src/pages/CreateApple.js"],"sourcesContent":["import React, { useState } from 'react'; \r\nimport './CreateApple.css';\r\nimport axios from 'axios';\r\nimport Papa from 'papaparse';\r\nimport JSZip from 'jszip';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { ArrowLeft, Upload, FileSpreadsheet, FileImage, CheckCircle, AlertCircle } from 'lucide-react';\r\n\r\nexport default function CreateApple() {\r\n  const navigate = useNavigate();\r\n  const [step, setStep] = useState(0);\r\n  const [csvFile, setCsvFile] = useState(null);\r\n  const [csvData, setCsvData] = useState([]);\r\n  const [imagesZip, setImagesZip] = useState(null);\r\n  const [extractedImages, setExtractedImages] = useState([]);\r\n  const [matchedData, setMatchedData] = useState([]);\r\n  const [unmatchedImages, setUnmatchedImages] = useState([]);\r\n  const [unmatchedApples, setUnmatchedApples] = useState([]);\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [manualMatches, setManualMatches] = useState({});\r\n\r\n  // Statistics\r\n  const [stats, setStats] = useState({\r\n    matched: 0,\r\n    unmatchedImages: 0,\r\n    unmatchedApples: 0\r\n  });\r\n\r\n  // Back to start\r\n  const handleBackToStart = () => {\r\n    setStep(0);\r\n    setCsvFile(null);\r\n    setCsvData([]);\r\n    setImagesZip(null);\r\n    setExtractedImages([]);\r\n    setMatchedData([]);\r\n    setUnmatchedImages([]);\r\n    setUnmatchedApples([]);\r\n    setError('');\r\n    setManualMatches({});\r\n    setStats({ matched: 0, unmatchedImages: 0, unmatchedApples: 0 });\r\n  };\r\n\r\n  // STEP 1: Handle CSV Upload\r\n  const handleCsvChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    const fileName = file.name.toLowerCase();\r\n    if (!fileName.endsWith('.csv') && !fileName.endsWith('.xlsx') && !fileName.endsWith('.xls')) {\r\n      setError('Only CSV or Excel files are allowed.');\r\n      setCsvFile(null);\r\n      return;\r\n    }\r\n\r\n    setError('');\r\n    setCsvFile(file);\r\n  };\r\n\r\n  const handleCsvUpload = async () => {\r\n    if (!csvFile) {\r\n      setError('Please select a CSV or Excel file to upload.');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const text = await csvFile.text();\r\n      const parsed = Papa.parse(text, { header: true, skipEmptyLines: true });\r\n\r\n      if (!parsed.data || parsed.data.length === 0) {\r\n        setError('The file is empty or has no valid data. Please upload a file with content.');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // Validate that there's at least a cultivar name column\r\n      const firstRow = parsed.data[0];\r\n      const hasCultivarName = Object.keys(firstRow).some(key => \r\n        key.toLowerCase().includes('cultivar') || \r\n        key.toLowerCase().includes('name')\r\n      );\r\n\r\n      if (!hasCultivarName) {\r\n        setError('CSV must contain a cultivar name column (e.g., \"cultivar_name\", \"name\")');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      setCsvData(parsed.data);\r\n      console.log('âœ… CSV parsed:', parsed.data.length, 'rows');\r\n      \r\n      // Automatically move to Step 2\r\n      setStep(2);\r\n    } catch (err) {\r\n      console.error('âŒ CSV parse error:', err);\r\n      setError('Failed to parse CSV file: ' + err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // STEP 2: Handle ZIP Upload\r\n  const handleZipChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n\r\n    if (!file.name.toLowerCase().endsWith('.zip')) {\r\n      setError('Only ZIP files are allowed for image upload.');\r\n      setImagesZip(null);\r\n      return;\r\n    }\r\n\r\n    setError('');\r\n    setImagesZip(file);\r\n  };\r\n\r\n  const handleMatchImages = async () => {\r\n    if (!imagesZip) {\r\n      setError('Please select a ZIP file containing images.');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const zip = new JSZip();\r\n      const contents = await zip.loadAsync(imagesZip);\r\n      \r\n      const imageFiles = [];\r\n      for (const [filename, file] of Object.entries(contents.files)) {\r\n        if (!file.dir && /\\.(jpg|jpeg|png|gif|bmp)$/i.test(filename)) {\r\n          const blob = await file.async('blob');\r\n          const cleanFilename = filename.split('/').pop();\r\n          imageFiles.push({\r\n            name: cleanFilename,\r\n            blob: blob,\r\n            url: URL.createObjectURL(blob)\r\n          });\r\n        }\r\n      }\r\n\r\n      if (imageFiles.length === 0) {\r\n        setError('No valid image files found in the ZIP.');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      console.log('âœ… Extracted images:', imageFiles.length);\r\n      setExtractedImages(imageFiles);\r\n\r\n      // Match images to apples\r\n      performMatching(imageFiles);\r\n      \r\n      // Move to Step 3\r\n      setStep(3);\r\n    } catch (err) {\r\n      console.error('âŒ ZIP extraction error:', err);\r\n      setError('Failed to extract ZIP file: ' + err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const performMatching = (images) => {\r\n    const matched = [];\r\n    const unmatchedImgs = [];\r\n    const unmatchedApps = [];\r\n\r\n    // Get cultivar name field\r\n    const cultivarField = Object.keys(csvData[0]).find(key => \r\n      key.toLowerCase().includes('cultivar') || \r\n      key.toLowerCase().includes('name')\r\n    );\r\n\r\n    csvData.forEach(apple => {\r\n      const cultivarName = apple[cultivarField];\r\n      if (!cultivarName) return;\r\n\r\n      // Try to find matching image (case-insensitive, fuzzy matching)\r\n      const cleanCultivar = cultivarName.toLowerCase().trim().replace(/[^a-z0-9]/g, '');\r\n      \r\n      const matchedImage = images.find(img => {\r\n        const cleanImgName = img.name.toLowerCase().replace(/\\.(jpg|jpeg|png|gif|bmp)$/i, '').replace(/[^a-z0-9]/g, '');\r\n        return cleanImgName.includes(cleanCultivar) || cleanCultivar.includes(cleanImgName);\r\n      });\r\n\r\n      if (matchedImage) {\r\n        matched.push({\r\n          apple: apple,\r\n          image: matchedImage,\r\n          cultivarName: cultivarName\r\n        });\r\n      } else {\r\n        unmatchedApps.push({\r\n          apple: apple,\r\n          cultivarName: cultivarName\r\n        });\r\n      }\r\n    });\r\n\r\n    // Find unmatched images\r\n    const matchedImageNames = matched.map(m => m.image.name);\r\n    unmatchedImgs.push(...images.filter(img => !matchedImageNames.includes(img.name)));\r\n\r\n    setMatchedData(matched);\r\n    setUnmatchedImages(unmatchedImgs);\r\n    setUnmatchedApples(unmatchedApps);\r\n\r\n    setStats({\r\n      matched: matched.length,\r\n      unmatchedImages: unmatchedImgs.length,\r\n      unmatchedApples: unmatchedApps.length\r\n    });\r\n\r\n    console.log('ðŸ“Š Matching complete:', {\r\n      matched: matched.length,\r\n      unmatchedImages: unmatchedImgs.length,\r\n      unmatchedApples: unmatchedApps.length\r\n    });\r\n  };\r\n\r\n  // Handle manual matching\r\n  const handleManualMatch = (appleIndex, imageName) => {\r\n    const newMatches = { ...manualMatches };\r\n    newMatches[appleIndex] = imageName;\r\n    setManualMatches(newMatches);\r\n\r\n    // Update stats\r\n    const manualMatchCount = Object.keys(newMatches).filter(k => newMatches[k]).length;\r\n    setStats(prev => ({\r\n      ...prev,\r\n      unmatchedApples: unmatchedApples.length - manualMatchCount\r\n    }));\r\n  };\r\n\r\n  // STEP 3: Save to Database\r\n  const handleSaveToDatabase = async () => {\r\n    setLoading(true);\r\n    \r\n    try {\r\n      // Combine matched data with manual matches\r\n      const finalData = [...matchedData];\r\n      \r\n      unmatchedApples.forEach((item, index) => {\r\n        if (manualMatches[index]) {\r\n          const selectedImage = extractedImages.find(img => img.name === manualMatches[index]);\r\n          if (selectedImage) {\r\n            finalData.push({\r\n              apple: item.apple,\r\n              image: selectedImage,\r\n              cultivarName: item.cultivarName\r\n            });\r\n          }\r\n        }\r\n      });\r\n\r\n      console.log('ðŸ’¾ Saving to database:', finalData.length, 'entries');\r\n\r\n      // Create FormData for upload\r\n      const formData = new FormData();\r\n      \r\n      finalData.forEach((item, index) => {\r\n        // Add apple data with index notation\r\n        formData.append(`apples[${index}]`, JSON.stringify(item.apple));\r\n        \r\n        // Add image blob (all use same field name 'images')\r\n        if (item.image && item.image.blob) {\r\n          formData.append('images', item.image.blob, item.image.name);\r\n        }\r\n      });\r\n\r\n      // Debug: Check FormData contents\r\n      console.log('ðŸ“‹ FormData contents:');\r\n      for (let pair of formData.entries()) {\r\n        console.log(pair[0], ':', pair[1] instanceof Blob ? `Blob: ${pair[1].size} bytes` : pair[1].substring(0, 100) + '...');\r\n      }\r\n\r\n      console.log('ðŸ“¤ Sending to backend:', finalData.length, 'items');\r\n\r\n      // Send to backend\r\n      const response = await axios.post('http://localhost:5000/api/apples/bulk-upload-with-images', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n\r\n      console.log('âœ… Upload response:', response.data);\r\n      alert(`ðŸŽ‰ Successfully uploaded ${response.data.stats.successful} apple(s) with images!`);\r\n      \r\n      // Reset and go back to start\r\n      handleBackToStart();\r\n      \r\n    } catch (err) {\r\n      console.error('âŒ Save error:', err);\r\n      alert(`âŒ Error: ${err.response?.data?.message || err.message || 'Save failed'}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"create-apple-container\">\r\n      <h1 className=\"page-title\">Create New Apple Resource ðŸŽ</h1>\r\n\r\n      {/* Timeline */}\r\n      <div className=\"timeline\">\r\n        {['Choose Method', 'Upload CSV', 'Upload Images', 'Review & Save'].map((label, idx) => (\r\n          <div key={idx} className={`timeline-step ${step === idx ? 'active' : ''} ${step > idx ? 'completed' : ''}`}>\r\n            <div className=\"circle\">{step > idx ? 'âœ“' : idx + 1}</div>\r\n            <span>{label}</span>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Step Content */}\r\n      <div className=\"step-content-card\">\r\n        \r\n        {/* STEP 0: CHOOSE METHOD */}\r\n        {step === 0 && (\r\n          <div className=\"step\">\r\n            <h2>Choose Upload Method</h2>\r\n            <div className=\"instructions-card\">\r\n              <h3>How to Use</h3>\r\n              <ul>\r\n                <li>Choose <b>Single Upload</b> to manually enter apple details and upload images</li>\r\n                <li>Choose <b>Multiple Upload</b> to upload CSV/Excel with bulk images</li>\r\n                <li>Use <b>Download Template</b> to create templates for bulk upload</li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div className=\"upload-options\">\r\n              <button\r\n                className=\"upload-btn single\"\r\n                onClick={() => navigate('/single-apple')}\r\n              >\r\n                Single Upload\r\n              </button>\r\n\r\n              <button\r\n                className=\"upload-btn multiple\"\r\n                onClick={() => setStep(1)} \r\n              >\r\n                Multiple Upload\r\n              </button>\r\n\r\n              <button\r\n                className=\"upload-btn template\"\r\n                onClick={() => navigate('/template-creator')}\r\n              >\r\n                Download Template\r\n              </button>\r\n            </div>\r\n\r\n            <div style={{ textAlign: 'center', marginTop: '30px' }}>\r\n              <button \r\n                onClick={() => navigate('/dashboard')}\r\n                className=\"btn-secondary\"\r\n              >\r\n                <ArrowLeft size={18} />\r\n                Back to Dashboard\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* STEP 1: UPLOAD CSV */}\r\n        {step === 1 && (\r\n          <div className=\"step\">\r\n            <h2><FileSpreadsheet size={28} /> Upload Your CSV</h2>\r\n            <div className=\"instructions-card\">\r\n              <h3>Upload Instructions</h3>\r\n              <ul>\r\n                <li>Only <b>.csv</b> or <b>.xlsx/.xls</b> files are accepted</li>\r\n                <li>File must contain cultivar names</li>\r\n                <li>Each row should contain complete apple information</li>\r\n                <li>File must not be empty</li>\r\n              </ul>\r\n            </div>\r\n\r\n            <input\r\n              type=\"file\"\r\n              accept=\".csv,.xlsx,.xls\"\r\n              onChange={handleCsvChange}\r\n            />\r\n\r\n            {csvFile && (\r\n              <div style={{ background: '#e8f5e9', padding: '15px', borderRadius: '8px', marginTop: '15px' }}>\r\n                <p style={{ color: '#2e7d32', margin: 0, fontWeight: '600' }}>\r\n                  âœ“ Selected: {csvFile.name} ({(csvFile.size / 1024).toFixed(2)} KB)\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            {error && (\r\n              <p style={{ color: 'red', fontWeight: '500', marginTop: '10px' }}>\r\n                âš ï¸ {error}\r\n              </p>\r\n            )}\r\n\r\n            <div className=\"navigation-buttons\">\r\n              <button className=\"btn-secondary\" onClick={handleBackToStart}>\r\n                <ArrowLeft size={18} />\r\n                Back\r\n              </button>\r\n              <button \r\n                className=\"btn-primary\" \r\n                onClick={handleCsvUpload}\r\n                disabled={!csvFile || loading}\r\n              >\r\n                {loading ? 'â³ Processing...' : <><Upload size={18} /> Upload CSV</>}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* STEP 2: UPLOAD IMAGES */}\r\n        {step === 2 && (\r\n          <div className=\"step\">\r\n            <h2><FileImage size={28} /> Upload Your Images</h2>\r\n            <div className=\"instructions-card\">\r\n              <h3>Image Upload Instructions</h3>\r\n              <ul>\r\n                <li>Upload a <b>.zip</b> file containing all images</li>\r\n                <li>Images should be named to match cultivar names from CSV</li>\r\n                <li>Supported formats: <b>JPG, PNG, GIF, BMP</b></li>\r\n                <li>System will automatically match images to cultivars</li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div style={{ background: '#e3f2fd', padding: '20px', borderRadius: '12px', marginBottom: '20px' }}>\r\n              <p style={{ margin: 0, color: '#1565c0', fontWeight: '600' }}>\r\n                âœ“ CSV Uploaded: {csvData.length} cultivars loaded\r\n              </p>\r\n            </div>\r\n\r\n            <input\r\n              type=\"file\"\r\n              accept=\".zip\"\r\n              onChange={handleZipChange}\r\n            />\r\n\r\n            {imagesZip && (\r\n              <div style={{ background: '#e8f5e9', padding: '15px', borderRadius: '8px', marginTop: '15px' }}>\r\n                <p style={{ color: '#2e7d32', margin: 0, fontWeight: '600' }}>\r\n                  âœ“ Selected: {imagesZip.name} ({(imagesZip.size / 1024).toFixed(2)} KB)\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            {error && (\r\n              <p style={{ color: 'red', fontWeight: '500', marginTop: '10px' }}>\r\n                âš ï¸ {error}\r\n              </p>\r\n            )}\r\n\r\n            <div className=\"navigation-buttons\">\r\n              <button className=\"btn-secondary\" onClick={() => setStep(1)}>\r\n                <ArrowLeft size={18} />\r\n                Back\r\n              </button>\r\n              <button \r\n                className=\"btn-primary\" \r\n                onClick={handleMatchImages}\r\n                disabled={!imagesZip || loading}\r\n                style={{ background: 'linear-gradient(135deg, #4caf50, #66bb6a)' }}\r\n              >\r\n                {loading ? 'â³ Processing...' : <>ðŸ” Match Images to Apples</>}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* STEP 3: REVIEW & SAVE */}\r\n        {step === 3 && (\r\n          <div className=\"step\">\r\n            <h2><CheckCircle size={28} /> Review and Save</h2>\r\n            \r\n            {/* Statistics */}\r\n            <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '15px', marginBottom: '30px' }}>\r\n              <div style={{ background: '#e8f5e9', padding: '20px', borderRadius: '12px', textAlign: 'center' }}>\r\n                <div style={{ fontSize: '32px', fontWeight: '700', color: '#4caf50' }}>{stats.matched}</div>\r\n                <div style={{ color: '#2e7d32', fontWeight: '600' }}>âœ“ Matched</div>\r\n              </div>\r\n              <div style={{ background: '#fff3e0', padding: '20px', borderRadius: '12px', textAlign: 'center' }}>\r\n                <div style={{ fontSize: '32px', fontWeight: '700', color: '#ff9800' }}>{stats.unmatchedImages}</div>\r\n                <div style={{ color: '#e65100', fontWeight: '600' }}>âš  Unmatched Images</div>\r\n              </div>\r\n              <div style={{ background: '#ffebee', padding: '20px', borderRadius: '12px', textAlign: 'center' }}>\r\n                <div style={{ fontSize: '32px', fontWeight: '700', color: '#f44336' }}>{unmatchedApples.length - Object.keys(manualMatches).filter(k => manualMatches[k]).length}</div>\r\n                <div style={{ color: '#c62828', fontWeight: '600' }}>âš  Unmatched Apples</div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Manual Matching Section */}\r\n            {unmatchedApples.length > 0 && (\r\n              <div style={{ background: '#fff3e0', padding: '20px', borderRadius: '12px', marginBottom: '20px' }}>\r\n                <h3 style={{ color: '#e65100', marginBottom: '15px' }}>\r\n                  <AlertCircle size={20} style={{ verticalAlign: 'middle', marginRight: '8px' }} />\r\n                  Manual Matching Required\r\n                </h3>\r\n                <p style={{ marginBottom: '15px', color: '#555' }}>\r\n                  The following cultivars need images. Please select from unmatched images:\r\n                </p>\r\n                \r\n                {unmatchedApples.map((item, index) => (\r\n                  <div key={index} style={{ background: 'white', padding: '15px', borderRadius: '8px', marginBottom: '10px' }}>\r\n                    <strong>{item.cultivarName}</strong>\r\n                    <select\r\n                      value={manualMatches[index] || ''}\r\n                      onChange={(e) => handleManualMatch(index, e.target.value)}\r\n                      style={{\r\n                        width: '100%',\r\n                        padding: '10px',\r\n                        marginTop: '10px',\r\n                        borderRadius: '6px',\r\n                        border: '2px solid #e0e0e0',\r\n                        fontSize: '14px'\r\n                      }}\r\n                    >\r\n                      <option value=\"\">-- Select Image --</option>\r\n                      {unmatchedImages.map((img, imgIndex) => (\r\n                        <option key={imgIndex} value={img.name}>{img.name}</option>\r\n                      ))}\r\n                    </select>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            {/* Matched Preview */}\r\n            {matchedData.length > 0 && (\r\n              <div style={{ marginBottom: '20px' }}>\r\n                <h3 style={{ color: '#4caf50', marginBottom: '15px' }}>âœ“ Successfully Matched ({matchedData.length})</h3>\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(150px, 1fr))', gap: '10px' }}>\r\n                  {matchedData.slice(0, 6).map((item, index) => (\r\n                    <div key={index} style={{ background: '#f8f9fa', padding: '10px', borderRadius: '8px', textAlign: 'center' }}>\r\n                      <img src={item.image.url} alt={item.cultivarName} style={{ width: '100%', height: '100px', objectFit: 'cover', borderRadius: '6px', marginBottom: '8px' }} />\r\n                      <div style={{ fontSize: '12px', color: '#555', fontWeight: '600' }}>{item.cultivarName}</div>\r\n                    </div>\r\n                  ))}\r\n                  {matchedData.length > 6 && (\r\n                    <div style={{ background: '#e0e0e0', padding: '10px', borderRadius: '8px', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '14px', fontWeight: '600' }}>\r\n                      +{matchedData.length - 6} more\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"navigation-buttons\">\r\n              <button className=\"btn-secondary\" onClick={handleBackToStart}>\r\n                <ArrowLeft size={18} />\r\n                Start Over\r\n              </button>\r\n              <button \r\n                className=\"btn-primary\" \r\n                onClick={handleSaveToDatabase}\r\n                disabled={loading}\r\n                style={{ background: 'linear-gradient(135deg, #4caf50, #66bb6a)' }}\r\n              >\r\n                {loading ? 'â³ Saving...' : <>ðŸ’¾ Save to Database</>}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}